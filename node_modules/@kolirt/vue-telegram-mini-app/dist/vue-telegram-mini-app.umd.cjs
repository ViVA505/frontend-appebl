(function(n,d){typeof exports=="object"&&typeof module<"u"?d(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],d):(n=typeof globalThis<"u"?globalThis:n||self,d(n["vue-telegram-mini-app"]={},n.vue))})(this,function(n,d){"use strict";const t=window.Telegram.WebApp;function u(e){return t.isVersionAtLeast(e)}function O(e){t.BackButton.onClick(e)}function x(e){t.BackButton.offClick(e)}const a=d.reactive({initData:"",version:"",platform:"",colorScheme:"",isExpanded:!1,viewportHeight:0,viewportStableHeight:0,headerColor:"",backgroundColor:"",isClosingConfirmationEnabled:!1,isVerticalSwipesEnabled:!1});function c(){a.initData=t.initData,a.version=t.version,a.platform=t.platform,a.colorScheme=t.colorScheme,a.isExpanded=t.isExpanded,a.viewportHeight=t.viewportHeight,a.viewportStableHeight=t.viewportStableHeight,a.headerColor=t.headerColor,a.backgroundColor=t.backgroundColor,a.isClosingConfirmationEnabled=t.isClosingConfirmationEnabled,a.isVerticalSwipesEnabled=t.isVerticalSwipesEnabled}function E(){t.BackButton.show(),c()}function M(){t.BackButton.hide(),c()}function j(){return u("6.1")}const $=Object.freeze(Object.defineProperty({__proto__:null,hide:M,isSupported:j,offClick:x,onClick:O,show:E},Symbol.toStringTag,{value:"Module"}));function A(){return u("6.1")}function p(e){t.setBackgroundColor(e),c()}const H=Object.freeze(Object.defineProperty({__proto__:null,isSupported:A,set:p},Symbol.toStringTag,{value:"Module"}));function L(){return u("6.2")}function m(){t.enableClosingConfirmation(),c()}function R(){t.disableClosingConfirmation(),c()}const V=Object.freeze(Object.defineProperty({__proto__:null,disable:R,enable:m,isSupported:L},Symbol.toStringTag,{value:"Module"}));function q(e){return new Promise((r,o)=>{t.CloudStorage.getItem(e,function(i,l){i&&o(i),r(l)})})}function z(e){return new Promise((r,o)=>{t.CloudStorage.getItems(e,function(i,l){i&&o(i),r(l)})})}function D(){return new Promise((e,r)=>{t.CloudStorage.getKeys(function(o,i){o&&r(o),e(i)})})}function F(e){return new Promise((r,o)=>{t.CloudStorage.removeItem(e,function(i){i&&o(i),r()})})}function U(e){return new Promise((r,o)=>{t.CloudStorage.removeItem(e,function(i){i&&o(i),r()})})}function Y(e,r){return new Promise((o,i)=>{t.CloudStorage.setItem(e,r,function(l){l&&i(l),o()})})}function K(){return u("6.9")}const W=Object.freeze(Object.defineProperty({__proto__:null,getItem:q,getItems:z,getKeys:D,isSupported:K,removeItem:F,removeItems:U,setItem:Y},Symbol.toStringTag,{value:"Module"}));var b=(e=>(e.ThemeChanged="themeChanged",e.ViewportChanged="viewportChanged",e.MainButtonClicked="mainButtonClicked",e.BackButtonClicked="backButtonClicked",e.SettingsButtonClicked="settingsButtonClicked",e.InvoiceClosed="invoiceClosed",e.PopupClosed="popupClosed",e.QrTextReceived="qrTextReceived",e.ClipboardTextReceived="clipboardTextReceived",e.WriteAccessRequested="writeAccessRequested",e.ContactRequested="contactRequested",e.BiometricManagerUpdated="biometricManagerUpdated",e.BiometricAuthRequested="biometricAuthRequested",e.BiometricTokenUpdated="biometricTokenUpdated",e))(b||{});const g=d.reactive({autoExpandInterval:1e3});function Q(e){"autoExpandInterval"in e&&(g.autoExpandInterval=e.autoExpandInterval),e.alwaysExpand&&w(),e.closingConfirmation&&m(),e.headerColor&&S(e.headerColor),e.backgroundColor&&p(e.backgroundColor)}let v;function C(){t.expand(),c()}function w(){v=setInterval(()=>{t.isExpanded||C()},g.autoExpandInterval)}function G(){clearInterval(v)}const J=Object.freeze(Object.defineProperty({__proto__:null,disableAutoExpand:G,enableAutoExpand:w,index:C},Symbol.toStringTag,{value:"Module"}));function N(e="medium"){t.HapticFeedback.impactOccurred(e)}function X(e="success"){t.HapticFeedback.notificationOccurred(e)}function Z(){t.HapticFeedback.selectionChanged()}function ee(){return u("6.1")}const te=Object.freeze(Object.defineProperty({__proto__:null,impactOccurred:N,isSupported:ee,notificationOccurred:X,selectionChanged:Z},Symbol.toStringTag,{value:"Module"}));function ne(){return u("6.1")}function S(e){t.setHeaderColor(e),c()}const oe=Object.freeze(Object.defineProperty({__proto__:null,isSupported:ne,set:S},Symbol.toStringTag,{value:"Module"}));function s(){return u("7.7")}function h(){t.enableVerticalSwipes(),c()}function T(){t.disableVerticalSwipes(),c()}const ie=Object.freeze(Object.defineProperty({__proto__:null,disable:T,enable:h,isSupported:s},Symbol.toStringTag,{value:"Module"}));function re(){t.close()}function ae(){t.ready(),c()}function _(e){let r=0,o=!1;return function(i){clearTimeout(r),o?(i.preventDefault(),o=!1):(o=!0,r=setTimeout(()=>{o=!1},e))}}function ce(e=500){document.body.addEventListener("touchstart",_(e),{passive:!1})}function ue(e=500){document.body.removeEventListener("touchstart",_(e))}const k={passive:!1};let y,f;function P(e){y=e.touches[0].clientY}function B(e){if(f){const r=f.scrollTop,o=e.changedTouches[0].clientY;r<=0&&y<o&&e.preventDefault()}else e.preventDefault()}function I(){window.scrollY!==window.overflowPadding&&window.scrollTo(0,window.overflowPadding)}function de(e){s()?T():(f=e,window.overflowPadding=100,document.body.style.height=window.innerHeight+window.overflowPadding+"px",window.scrollTo(0,window.overflowPadding),window.addEventListener("scroll",I),document.documentElement.addEventListener("touchstart",P,k),document.documentElement.addEventListener("touchmove",B,k))}function le(){s()?h():(window.removeEventListener("scroll",I),document.documentElement.removeEventListener("touchstart",P),document.documentElement.removeEventListener("touchmove",B))}function se(){c()}function fe(e={}){return{install(){Q(e),se()}}}n.BackButton=$,n.BackgroundColor=H,n.ClosingConfirmation=V,n.CloudStorage=W,n.Events=b,n.Expand=J,n.HapticFeedback=te,n.HeaderColor=oe,n.VerticalSwipes=ie,n.close=re,n.createTelegramMiniApp=fe,n.fixIosMultitaps=ce,n.fixTma=de,n.isVersionAtLeast=u,n.ready=ae,n.state=a,n.unfixIosMultitaps=ue,n.unfixTma=le,n.updateState=c,n.webApp=t,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});
